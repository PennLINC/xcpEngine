derivative() {
   local path vname
   if [[ ${2:0:1} == '/' ]]
      then
      path=${2}.nii.gz
   else
      path=${outdir}/${2}.nii.gz
   fi
   vname=${1//[![:alnum:]|_]}
   eval ${vname}[${cxt}]=\${path}
   export derivatives_floating=$(echo ${derivatives_floating}|${JQ_PATH} '.'\"${1}\"' += {Map:"'"${path}"'", Space:"'"${space[sub]}"'", ProvenanceName:"'"${mod_name_short}"'", ProvenanceIndex:"'"${cxt}"'", Statistic:"null", Type:"map"}')
}
